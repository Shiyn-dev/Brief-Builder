{"openapi":"3.1.0","info":{"title":"Brief Builder API","description":"API for managing brief builder.","contact":{"name":"AVB-Invest","url":"https://avbinvest.com"},"version":"1.0"},"servers":[{"url":"https://brief-builder.onrender.com","description":"Production Server"},{"url":"http://localhost:8080","description":"Local Development Server"}],"tags":[{"name":"Questions","description":"API for managing brief questions"},{"name":"Brief Submissions","description":"API for managing completed briefs"},{"name":"Question Options","description":"API for managing question options"},{"name":"User Management","description":"API for managing user data"},{"name":"Briefs","description":"API for managing briefs"},{"name":"Brief Emails","description":"API for sending completed briefs by email"},{"name":"Actuator","description":"Monitor and interact","externalDocs":{"description":"Spring Boot Actuator Web API Documentation","url":"https://docs.spring.io/spring-boot/docs/current/actuator-api/html/"}}],"paths":{"/api/users/{id}":{"get":{"tags":["User Management"],"summary":"Get user by ID","description":"Returns user data by their identifier","operationId":"getUserById","parameters":[{"name":"id","in":"path","description":"User ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalError"},"200":{"description":"User successfully found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]},"put":{"tags":["User Management"],"summary":"Update user data","description":"Updates information for an existing user","operationId":"updateUser","parameters":[{"name":"id","in":"path","description":"User ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRequest"}}},"required":true},"responses":{"404":{"$ref":"#/components/responses/NotFound"},"409":{"$ref":"#/components/responses/Conflict"},"400":{"$ref":"#/components/responses/ValidationError"},"200":{"description":"User data successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"500":{"$ref":"#/components/responses/InternalError"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["User Management"],"summary":"Delete user","description":"Deletes a user by their identifier","operationId":"deleteUser","parameters":[{"name":"id","in":"path","description":"User ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalError"},"204":{"description":"User successfully deleted"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]}},"/api/submissions/{submissionId}/user":{"put":{"tags":["Brief Submissions"],"summary":"Add user to completed brief","description":"Adds or updates user information in an existing completed brief","operationId":"addUserToSubmission","parameters":[{"name":"submissionId","in":"path","description":"Completed brief ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRequest"}}},"required":true},"responses":{"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalError"},"400":{"$ref":"#/components/responses/ValidationError"},"200":{"description":"User information added successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BriefSubmissionResponse"}}}}}}},"/api/submissions/{submissionId}/answers":{"put":{"tags":["Brief Submissions"],"summary":"Update answers in completed brief","description":"Updates the list of answers in an existing completed brief","operationId":"updateSubmissionAnswers","parameters":[{"name":"submissionId","in":"path","description":"Completed brief ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"List of updated answers","items":{"$ref":"#/components/schemas/AnswerRequest"}}}},"required":true},"responses":{"200":{"description":"Answers updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BriefSubmissionResponse"}}}},"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalError"},"400":{"$ref":"#/components/responses/ValidationError"}}}},"/api/questions/{questionId}":{"get":{"tags":["Questions"],"summary":"Get question by ID","description":"Returns question data by its identifier","operationId":"getQuestionById","parameters":[{"name":"questionId","in":"path","description":"Question ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalError"},"200":{"description":"Question found successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionResponse"}}}}}},"put":{"tags":["Questions"],"summary":"Update a question","description":"Updates an existing question by its identifier","operationId":"updateQuestion","parameters":[{"name":"questionId","in":"path","description":"Question ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionRequest"}}},"required":true},"responses":{"200":{"description":"Question updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionResponse"}}}},"404":{"$ref":"#/components/responses/NotFound"},"400":{"$ref":"#/components/responses/ValidationError"},"500":{"$ref":"#/components/responses/InternalError"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Questions"],"summary":"Delete a question","description":"Deletes a question by its identifier","operationId":"deleteQuestion","parameters":[{"name":"questionId","in":"path","description":"Question ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"404":{"$ref":"#/components/responses/NotFound"},"204":{"description":"Question deleted successfully"},"500":{"$ref":"#/components/responses/InternalError"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]}},"/api/questions/{questionId}/position":{"put":{"tags":["Questions"],"summary":"Update question position","description":"Changes the order position of a question within a brief","operationId":"updateQuestionPosition","parameters":[{"name":"questionId","in":"path","description":"Question ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionPositionRequest"}}},"required":true},"responses":{"404":{"$ref":"#/components/responses/NotFound"},"400":{"$ref":"#/components/responses/ValidationError"},"200":{"description":"Question position updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionResponse"}}}},"500":{"$ref":"#/components/responses/InternalError"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]}},"/api/questions/{questionId}/options/{optionId}":{"get":{"tags":["Question Options"],"summary":"Get option by ID","description":"Returns option data by its identifier","operationId":"getOptionById","parameters":[{"name":"questionId","in":"path","description":"Question ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"optionId","in":"path","description":"Option ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"Option found successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionOptionResponse"}}}},"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalError"}}},"put":{"tags":["Question Options"],"summary":"Update an option","description":"Updates option information with optional logo change","operationId":"updateOption","parameters":[{"name":"questionId","in":"path","description":"Question ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"optionId","in":"path","description":"Option ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"optionName","in":"query","description":"New option name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"logo":{"type":"string","format":"binary","description":"New option logo (PNG/JPEG)"}}}}}},"responses":{"415":{"$ref":"#/components/responses/UnsupportedMediaType"},"200":{"description":"Option updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionOptionResponse"}}}},"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalError"},"400":{"$ref":"#/components/responses/ValidationError"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Question Options"],"summary":"Delete an option","description":"Deletes an option by its identifier","operationId":"deleteQuestionOption","parameters":[{"name":"questionId","in":"path","description":"Question ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"optionId","in":"path","description":"Option ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"204":{"description":"Option deleted successfully"},"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalError"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]}},"/api/briefs/{id}":{"get":{"tags":["Briefs"],"summary":"Get brief by ID","description":"Returns brief data by its identifier","operationId":"getBriefById","parameters":[{"name":"id","in":"path","description":"Идентификатор брифа","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"Brief found successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BriefResponse"}}}},"500":{"$ref":"#/components/responses/InternalError"},"404":{"$ref":"#/components/responses/NotFound"}}},"put":{"tags":["Briefs"],"summary":"Update a brief","description":"Updates a brief by ID","operationId":"updateBrief","parameters":[{"name":"id","in":"path","description":"Brief ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"name","in":"query","required":true,"schema":{"type":"string"}},{"name":"description","in":"query","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"logo":{"type":"string","format":"binary","description":"New logo (PNG/JPEG)"}}}}}},"responses":{"400":{"$ref":"#/components/responses/ValidationError"},"200":{"description":"Brief updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BriefResponse"}}}},"415":{"$ref":"#/components/responses/UnsupportedMediaType"},"404":{"$ref":"#/components/responses/NotFound"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Briefs"],"summary":"Delete a brief","description":"Deletes a brief by ID","operationId":"deleteBrief","parameters":[{"name":"id","in":"path","description":"Brief ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"204":{"description":"Brief deleted successfully"},"404":{"$ref":"#/components/responses/NotFound"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]}},"/api/users":{"get":{"tags":["User Management"],"summary":"Get all users","description":"Returns a list of all registered users","operationId":"getAllUsers","responses":{"200":{"description":"User list successfully retrieved","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"}}}}},"500":{"$ref":"#/components/responses/InternalError"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]},"post":{"tags":["User Management"],"summary":"Create new user","description":"Creates a new user or returns an existing one with the same contact information","operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRequest"}}},"required":true},"responses":{"201":{"description":"User successfully created or found existing","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"400":{"$ref":"#/components/responses/ValidationError"},"500":{"$ref":"#/components/responses/InternalError"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]}},"/api/submissions":{"post":{"tags":["Brief Submissions"],"summary":"Create a completed brief [DEPRECATED]","description":"Creates a completed brief with answers and user information. This method is deprecated, use two-step creation with /drafts and /{id}/user instead","operationId":"createSubmission","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BriefSubmissionRequest"}}},"required":true},"responses":{"201":{"description":"Completed brief created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BriefSubmissionResponse"}}}},"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalError"},"400":{"$ref":"#/components/responses/ValidationError"}},"deprecated":true}},"/api/submissions/{submissionId}/email":{"post":{"tags":["Brief Emails"],"summary":"Send brief by email","description":"Sends a PDF file with the completed brief to the specified email address","operationId":"sendSubmissionByEmail","parameters":[{"name":"submissionId","in":"path","description":"Completed brief ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"recipientEmail","in":"query","description":"Recipient's email address","required":true,"schema":{"type":"string"},"example":"recipient@example.com"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"string","format":"binary","description":"PDF file with the brief to be sent"}}}},"responses":{"200":{"description":"Email sent successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailResponse"}}}},"404":{"$ref":"#/components/responses/NotFound"},"400":{"$ref":"#/components/responses/ValidationError"},"415":{"$ref":"#/components/responses/UnsupportedMediaType"},"500":{"$ref":"#/components/responses/InternalError"}}}},"/api/submissions/drafts":{"post":{"tags":["Brief Submissions"],"summary":"Create a brief draft","description":"Creates a draft of completed brief with answers to questions but without user information","operationId":"createDraftSubmission","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BriefSubmissionRequest"}}},"required":true},"responses":{"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalError"},"400":{"$ref":"#/components/responses/ValidationError"},"201":{"description":"Brief draft created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BriefSubmissionResponse"}}}}}}},"/api/questions":{"post":{"tags":["Questions"],"summary":"Create a new question","description":"Creates a new question for the specified brief","operationId":"createQuestion","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionRequest"}}},"required":true},"responses":{"201":{"description":"Question created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionResponse"}}}},"400":{"$ref":"#/components/responses/ValidationError"},"500":{"$ref":"#/components/responses/InternalError"},"404":{"$ref":"#/components/responses/NotFound"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]}},"/api/questions/{questionId}/options":{"get":{"tags":["Question Options"],"summary":"Get all options for a question","description":"Returns a list of all options for the specified question","operationId":"getOptionsByQuestionId","parameters":[{"name":"questionId","in":"path","description":"Question ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"404":{"$ref":"#/components/responses/NotFound"},"200":{"description":"Options list retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuestionOptionResponse"}}}}},"500":{"$ref":"#/components/responses/InternalError"}}},"post":{"tags":["Question Options"],"summary":"Create a question option","description":"Creates a new option for a question with optional logo upload","operationId":"createQuestionOption","parameters":[{"name":"questionId","in":"path","description":"Question ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"optionName","in":"query","description":"Option name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"logo":{"type":"string","format":"binary","description":"Option logo (PNG/JPEG)"}}}}}},"responses":{"201":{"description":"Option created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionOptionResponse"}}}},"404":{"$ref":"#/components/responses/NotFound"},"415":{"$ref":"#/components/responses/UnsupportedMediaType"},"500":{"$ref":"#/components/responses/InternalError"},"400":{"$ref":"#/components/responses/ValidationError"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]}},"/api/briefs":{"get":{"tags":["Briefs"],"summary":"Get all briefs","description":"Returns a list of all briefs","operationId":"getAllBriefs","responses":{"500":{"$ref":"#/components/responses/InternalError"},"200":{"description":"Briefs list retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BriefResponse"}}}}}}},"post":{"tags":["Briefs"],"summary":"Create a new brief","description":"Creates a brief with name, description, and optional logo","operationId":"createBrief","parameters":[{"name":"name","in":"query","description":"Brief name","required":true,"schema":{"type":"string"}},{"name":"description","in":"query","description":"Brief description","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"logo":{"type":"string","format":"binary","description":"Logo (PNG/JPEG)"}}}}}},"responses":{"201":{"description":"Brief created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BriefResponse"}}}},"400":{"$ref":"#/components/responses/ValidationError"},"415":{"$ref":"#/components/responses/UnsupportedMediaType"},"500":{"$ref":"#/components/responses/InternalError"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]}},"/api/submissions/{submissionId}":{"get":{"tags":["Brief Submissions"],"summary":"Get completed brief by ID","description":"Returns detailed information about a completed brief by its identifier","operationId":"getSubmissionById","parameters":[{"name":"submissionId","in":"path","description":"Completed brief ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"404":{"$ref":"#/components/responses/NotFound"},"200":{"description":"Brief data retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BriefSubmissionResponse"}}}},"500":{"$ref":"#/components/responses/InternalError"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Brief Submissions"],"summary":"Delete a completed brief","description":"Deletes a completed brief by its identifier","operationId":"deleteSubmission","parameters":[{"name":"submissionId","in":"path","description":"Completed brief ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalError"},"204":{"description":"Completed brief deleted successfully"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]}},"/api/submissions/user/{userId}":{"get":{"tags":["Brief Submissions"],"summary":"Get completed briefs by user ID","description":"Returns a list of all completed briefs for the specified user","operationId":"getSubmissionsByUserId","parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"404":{"$ref":"#/components/responses/NotFound"},"200":{"description":"List of completed briefs retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BriefSubmissionResponse"}}}}},"500":{"$ref":"#/components/responses/InternalError"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]}},"/api/submissions/brief/{briefId}":{"get":{"tags":["Brief Submissions"],"summary":"Get completed briefs by template ID","description":"Returns a list of all completed briefs for the specified template","operationId":"getSubmissionsByBriefId","parameters":[{"name":"briefId","in":"path","description":"Brief template ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"404":{"$ref":"#/components/responses/NotFound"},"200":{"description":"List of completed briefs retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BriefSubmissionResponse"}}}}},"500":{"$ref":"#/components/responses/InternalError"},"401":{"$ref":"#/components/responses/Unauthorized"}},"security":[{"bearerAuth":[]}]}},"/api/questions/{questionId}/options/{optionId}/logo":{"get":{"tags":["Question Options"],"summary":"Get option logo","description":"Returns the logo image for a question option","operationId":"getLogo","parameters":[{"name":"questionId","in":"path","description":"Question ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"optionId","in":"path","description":"Option ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"500":{"$ref":"#/components/responses/InternalError"},"404":{"$ref":"#/components/responses/NotFound"},"200":{"description":"Logo found successfully","content":{"image/jpeg":{},"image/png":{}}}}}},"/api/questions/brief/{briefId}":{"get":{"tags":["Questions"],"summary":"Get questions by brief ID","description":"Returns a list of all questions associated with the specified brief","operationId":"getQuestionByBriefId","parameters":[{"name":"briefId","in":"path","description":"Brief ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"Questions list retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuestionResponse"}}}}},"500":{"$ref":"#/components/responses/InternalError"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/api/briefs/{id}/logo":{"get":{"tags":["Briefs"],"summary":"Get brief logo","description":"Returns the logo image for a brief","operationId":"getLogo_1","parameters":[{"name":"id","in":"path","description":"Идентификатор брифа","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"Logo found successfully","content":{"image/*":{}}},"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalError"}}}},"/api/briefs/paged":{"get":{"tags":["Briefs"],"summary":"Get briefs with pagination","description":"Returns a page of briefs with customizable pagination and sorting","operationId":"getBriefsPaged","parameters":[{"name":"page","in":"query","description":"Page number (starting from 0)","required":false,"schema":{"type":"integer","format":"int32","default":0},"example":0},{"name":"size","in":"query","description":"Page size","required":false,"schema":{"type":"integer","format":"int32","default":10},"example":10},{"name":"sortBy","in":"query","description":"Field for sorting","required":false,"schema":{"type":"string","default":"id"},"example":"id"},{"name":"sortDirection","in":"query","description":"Sorting direction (asc or desc)","required":false,"schema":{"type":"string","default":"asc"},"example":"asc"}],"responses":{"200":{"description":"Page of briefs retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page"}}}},"400":{"$ref":"#/components/responses/TypeMismatch"},"500":{"$ref":"#/components/responses/InternalError"}}}},"/actuator":{"get":{"tags":["Actuator"],"summary":"Actuator root web endpoint","operationId":"links","responses":{"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}}}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}}}},"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}}}}}}}}},"/actuator/health":{"get":{"tags":["Actuator"],"summary":"Actuator web endpoint 'health'","operationId":"health","responses":{"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object"}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object"}},"application/json":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"ErrorResponse":{"description":"Standard API error response format","properties":{"timestamp":{"format":"date-time"},"status":{"format":"int32"},"error":{},"message":{},"path":{}}},"ValidationErrorResponse":{"description":"Validation error response format","properties":{"timestamp":{"format":"date-time"},"status":{"format":"int32"},"error":{},"message":{},"path":{},"validationErrors":{"items":{"properties":{"field":{},"message":{},"rejectedValue":{}}}}}},"UserRequest":{"type":"object","description":"User creation or update request","properties":{"name":{"type":"string","description":"User's full name","example":"John Smith","maxLength":255,"minLength":3},"email":{"type":"string","description":"User's email address","example":"john.smith@example.com","maxLength":255,"minLength":0,"pattern":"^(?=.{1,64}@)[a-z0-9_-]+(\\.[a-z0-9_-]+)*@[^-][a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,6})$"}},"required":["email","name"]},"UserResponse":{"type":"object","description":"User response data","properties":{"id":{"type":"integer","format":"int64","description":"Unique user identifier","example":1},"name":{"type":"string","description":"User's full name","example":"John Smith"},"email":{"type":"string","description":"User's email address","example":"john.smith@example.com"}}},"AnswerResponse":{"type":"object","description":"Response data for a brief question answer","properties":{"id":{"type":"integer","format":"int64","description":"Unique answer identifier","example":42},"questionId":{"type":"integer","format":"int64","description":"ID of the question being answered","example":5},"questionText":{"type":"string","description":"Question text","example":"Describe the target audience for your product"},"textAnswer":{"type":"string","description":"Text answer to the question (if applicable)","example":"Our target audience is young professionals aged 25-35"},"selectedOptionIds":{"type":"array","description":"List of selected option IDs","example":[1,3,5],"items":{"type":"integer","format":"int64"}},"selectedOptionTexts":{"type":"array","description":"Text representations of the selected options","example":["Internet advertising","Social media","Email marketing"],"items":{"type":"string"}}}},"BriefSubmissionResponse":{"type":"object","description":"Brief submission response data","properties":{"id":{"type":"integer","format":"int64","description":"Unique submission identifier","example":42},"briefId":{"type":"integer","format":"int64","description":"ID of the brief this submission belongs to","example":5},"user":{"$ref":"#/components/schemas/UserResponse","description":"Information about the user who created the submission (can be null for drafts)"},"answers":{"type":"array","description":"List of answers to brief questions","items":{"$ref":"#/components/schemas/AnswerResponse"}}}},"AnswerRequest":{"type":"object","description":"Request for creating or updating a brief question answer","properties":{"textAnswer":{"type":"string","description":"Text answer to the question (if the question requires a text response)","example":"Our target audience is young professionals aged 25-35","maxLength":300,"minLength":2},"questionId":{"type":"integer","format":"int64","description":"ID of the question being answered","example":5},"selectedOptionIds":{"type":"array","description":"List of selected option IDs (for multiple choice questions)","example":[1,3,5],"items":{"type":"integer","format":"int64"}}},"required":["questionId"]},"QuestionRequest":{"type":"object","description":"Question data","properties":{"name":{"type":"string","description":"Question text content","example":"Describe your target audience","maxLength":300,"minLength":2},"type":{"type":"string","description":"Type of question (TEXT, SINGLE_CHOICE, MULTIPLE_CHOICE)","enum":["TEXT","SINGLE_CHOICE","MULTIPLE_CHOICE"],"example":"MULTIPLE_CHOICE"},"briefId":{"type":"integer","format":"int64","description":"ID of the brief this question belongs to","example":5},"position":{"type":"integer","format":"int32","description":"Position of the question in the brief (zero-based index)","example":2}},"required":["briefId","name","type"]},"QuestionOptionResponse":{"type":"object","description":"Response data for a question option","properties":{"id":{"type":"integer","format":"int64","description":"Unique option identifier","example":42},"name":{"type":"string","description":"Option text content","example":"Email marketing"},"logoUrl":{"type":"string","description":"URL to the option's logo image (if applicable)","example":"/api/questions/5/options/42/logo"},"questionId":{"type":"integer","format":"int64","description":"ID of the parent question","example":5}}},"QuestionResponse":{"type":"object","description":"Response data for a brief question","properties":{"id":{"type":"integer","format":"int64","description":"Unique question identifier","example":42},"name":{"type":"string","description":"Question text content","example":"Describe your target audience"},"type":{"type":"string","description":"Type of question (TEXT, SINGLE_CHOICE, MULTIPLE_CHOICE)","enum":["TEXT","SINGLE_CHOICE","MULTIPLE_CHOICE"],"example":"MULTIPLE_CHOICE"},"briefId":{"type":"integer","format":"int64","description":"ID of the brief this question belongs to","example":5},"position":{"type":"integer","format":"int32","description":"Position of the question in the brief (zero-based index)","example":2},"options":{"type":"array","description":"List of available options for this question (applicable for choice questions)","items":{"$ref":"#/components/schemas/QuestionOptionResponse"}}}},"QuestionPositionRequest":{"type":"object","description":"New question position data","properties":{"questionId":{"type":"integer","format":"int64","description":"ID of the question to reposition","example":42},"position":{"type":"integer","format":"int32","description":"New position value (zero-based index)","example":3}},"required":["position","questionId"]},"BriefResponse":{"type":"object","description":"Brief data returned by the API","properties":{"id":{"type":"integer","format":"int64","description":"Unique brief identifier","example":42},"name":{"type":"string","description":"Brief name","example":"Marketing Campaign Brief"},"description":{"type":"string","description":"Brief description","example":"This brief collects information for our upcoming marketing campaign"},"logoUrl":{"type":"string","description":"URL to the brief's logo image","example":"/api/briefs/42/logo"},"questions":{"type":"array","description":"List of questions included in this brief","items":{"$ref":"#/components/schemas/QuestionResponse"}}}},"BriefSubmissionRequest":{"type":"object","description":"Brief draft creation data","properties":{"briefId":{"type":"integer","format":"int64","description":"ID of the brief for which the submission is created","example":1},"user":{"$ref":"#/components/schemas/UserRequest","description":"User information (can be null for draft submissions)"},"answers":{"type":"array","description":"List of answers to brief questions","items":{"$ref":"#/components/schemas/AnswerRequest"}}},"required":["briefId"]},"EmailResponse":{"type":"object","description":"Email sending result","properties":{"message":{"type":"string","description":"Result message","example":"Email sent successfully"},"success":{"type":"boolean","description":"Operation success flag","example":true},"timestamp":{"type":"string","format":"date-time","description":"Operation timestamp","example":"2025-07-25T00:15:30"}}},"Page":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"type":"object"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"unpaged":{"type":"boolean"},"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"unsorted":{"type":"boolean"},"sorted":{"type":"boolean"}}},"Link":{"type":"object","properties":{"href":{"type":"string"},"templated":{"type":"boolean"}}}},"responses":{"PayloadTooLarge":{"description":"Payload Too Large","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Payload Too Large","timestamp":"2025-07-25T12:41:45.789+06:00","message":"The maximum size of the uploaded file has been exceeded","status":413,"path":"/api/v1/brief-submissions/attachment"}}}},"EndpointNotFound":{"description":"Endpoint Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Not Found","timestamp":"2025-07-25T12:37:25.456+06:00","message":"Endpoint GET /api/v1/nonexistent not found","status":404,"path":"/api/v1/nonexistent"}}}},"ResourceNotFound":{"description":"Resource Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Not Found","timestamp":"2025-07-25T12:38:30.789+06:00","message":"Resource not found: /static/images/logo.png","status":404,"path":"/static/images/logo.png"}}}},"MissingParams":{"description":"Missing Parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Bad Request","timestamp":"2025-07-25T12:34:10.456+06:00","message":"Required request parameters are missing","status":400,"path":"/api/v1/brief-submissions/email"}}}},"UnsupportedMediaType":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Unsupported Media Type","timestamp":"2025-07-25T12:43:55.456+06:00","message":"Unsupported file format. Allowed formats: PDF, DOCX","status":415,"path":"/api/v1/brief-submissions/attachment"}}}},"BadRequest":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Bad Request","timestamp":"2025-07-25T12:30:45.123+06:00","message":"The request could not be understood by the server","status":400,"path":"/api/v1/brief-submissions/123"}}}},"MethodNotAllowed":{"description":"Method Not Allowed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Method Not Allowed","timestamp":"2025-07-25T12:39:35.123+06:00","message":"The 'PUT' method is not supported for this endpoint. Supported methods: GET, POST","status":405,"path":"/api/v1/brief-submissions"}}}},"Conflict":{"description":"Data Integrity Violation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Conflict","timestamp":"2025-07-25T12:40:40.456+06:00","message":"Data Integrity Violation. The data may already exist or depend on other objects","status":409,"path":"/api/v1/brief-submissions"}}}},"ConstraintViolation":{"description":"Constraint Violation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"},"example":{"error":"Bad Request","message":"Request validation error","status":400,"validationErrors":[{"message":"must not be null","field":"answerId","rejectedValue":"null"},{"message":"size must be between 1 and 1000","field":"value","rejectedValue":""}],"timestamp":"2025-07-25T12:32:20.789+06:00","path":"/api/v1/brief-submissions/answers"}}}},"Unauthorized":{"description":"Unauthorized - Authentication is required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Unauthorized","timestamp":"2025-07-25T12:42:50.123+06:00","message":"Full authentication is required to access this resource","status":401,"path":"/api/v1/protected-resource"}}}},"ValidationError":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"},"example":{"error":"Bad Request","message":"Request validation error","status":400,"validationErrors":[{"message":"must be a well-formed email address","field":"email","rejectedValue":"invalid-email"},{"message":"size must be between 10 and 15","field":"phone","rejectedValue":"123"}],"timestamp":"2025-07-25T12:31:15.456+06:00","path":"/api/v1/brief-submissions"}}}},"FormatError":{"description":"Format Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Bad Request","timestamp":"2025-07-25T12:33:05.123+06:00","message":"Invalid query data format","status":400,"path":"/api/v1/brief-submissions"}}}},"InternalError":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Internal Server Error","timestamp":"2025-07-25T12:45:00.789+06:00","message":"There was an internal server error","status":500,"path":"/api/v1/brief-submissions/process"}}}},"TypeMismatch":{"description":"Type Mismatch","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Bad Request","timestamp":"2025-07-25T12:35:15.789+06:00","message":"Failed to convert value 'abc' to required type 'Integer' for parameter 'id'","status":400,"path":"/api/v1/brief-submissions/abc"}}}},"NotFound":{"description":"Resource Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"error":"Not Found","timestamp":"2025-07-25T12:36:20.123+06:00","message":"Brief submission with ID 123 not found","status":404,"path":"/api/v1/brief-submissions/123"}}}}},"securitySchemes":{"bearerAuth":{"type":"http","description":"JWT authorization token. Format: Bearer <token>","scheme":"bearer","bearerFormat":"JWT"}}}}